@page "/counter"
@page "/counter/{startingValue:int}"
@layout MainLayout

<h1>Counter</h1>


<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>


<br />
<br />

<CascadingValue Name="Counter" Value="@currentCount">  
    <CascadingValue Name="TitleColor" Value="@("green")" IsFixed="true">

        <Component1>  </Component1>

    </CascadingValue>
</CascadingValue>

<br />
<br />


<Component3 
    callBack=@IncrementCountnew
    callAction=@IncrementCountnew
></Component3>


<br />
<br />

<h3>-------------------Component4  Two-way binding----------------------</h3>


<button class="btn btn-primary" @onclick="IncrementCountC4">Click me for updating Component4</button>
<p> currentCountToC4 : @currentCountToC4  </p>
<Component4 currentCountC4=@currentCountToC4></Component4>

<Component4 @bind-currentCountC4=currentCountToC4></Component4>



<h3>-------------------Component4  Two-way binding----------------------</h3>



@code {
    private int currentCount = 0;

    [Parameter]
    public int StartingValue { get; set; } = 0;

    [Parameter]
    public int IncrementBy { get; set; } = 2;


    protected override void OnParametersSet()
    {
        currentCount = StartingValue;
        base.OnParametersSet();
    }


    private void IncrementCount()
    {
        currentCount+= IncrementBy;
    }


    private void IncrementCountnew(int i)
    {
        currentCount+= i;
    }

    private int currentCountToC4 = 0;
    private void IncrementCountC4()
    {
        currentCountToC4 += 1;
    }
}
